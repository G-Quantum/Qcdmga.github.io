<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音游社抽卡</title>
    <link rel="stylesheet" href="Card_drawing.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="round-info">
                <span>回合: <span id="round">0</span></span>
                <span>局: <span id="set">0</span></span>
            </div>
            <h1>Arcaea擂台赛抽卡</h1>
            <button id="next-round">下一回合</button>
        </div>
        
        <div class="global-container">
            <div class="global-buff">
                <div class="title-card-container">
                    <h3 class="vertical-title">全局Buff区</h3>
                    <div class="cards-display" id="global-buff"></div>
                </div>
            </div>
            
            <div class="challenge-songs">
                <div class="title-card-container">
                    <h3 class="vertical-title">挑战歌曲</h3>
                    <div class="song-search">
                        <input type="text" id="song-search-input" placeholder="搜索歌曲...">
                        <button id="search-button">搜索</button>
                    </div>
                    <div class="song-selection" id="song-selection">
                        <!-- 歌曲将在这里动态生成 -->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="player-area" id="player1-area">
                <h2>擂主 <span id="player1-wins">胜利次数: 0</span></h2>
                <div class="buff-section">
                    <h3 class="vertical-title">Buff区</h3>
                    <div class="cards-display" id="player1-buff"></div>
                </div>
                <div class="button-container">
                    <button id="player1-draw">抽卡</button>
                    <button id="player1-show-hand" onclick="showHandDialog('player1')">显示手牌</button>
                    <span id="player1-hand-count">手牌数 : 0</span>
                </div>
            </div>
            
            <div class="player-area" id="player2-area">
                <h2>挑战者</h2>
                <div class="buff-section">
                    <h3 class="vertical-title">Buff区</h3>
                    <div class="cards-display" id="player2-buff"></div>
                </div>
                <div class="button-container">
                    <button id="player2-draw">抽卡</button>
                    <button id="player2-show-hand" onclick="showHandDialog('player2')">显示手牌</button>
                    <span id="player2-hand-count">手牌数 : 0</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 弹窗选择胜利者 -->
    <div class="judgment-dialog" id="judgment-dialog">
        <div class="dialog-content">
            <h2>判定</h2>
            <p>请选择胜利者：</p>
            <button class="judgment-button" data-result="player1">擂主胜利</button>
            <button class="judgment-button" data-result="player2">挑战者胜利</button>
        </div>
    </div>
    
    <!-- 全屏弹窗显示结果 -->
    <div class="result-dialog" id="result-dialog">
        <div class="dialog-content">
            <h2 id="result-title">擂主守擂成功</h2>
            <button id="back-to-game">返回游戏</button>
        </div>
    </div>
    
    <!-- 手牌区弹窗 -->
    <div class="hand-dialog" id="player1-hand-dialog">
        <div class="hand-dialog-content">
            <div class="hand-dialog-header">
                <h3 class="hand-dialog-title">擂主手牌区</h3>
                <button class="hand-dialog-close" onclick="hideHandDialog('player1')">完成</button>
            </div>
            <div class="hand-dialog-body">
                <div class="cards-display" id="player1-hand"></div>
            </div>
        </div>
    </div>

    <div class="hand-dialog" id="player2-hand-dialog">
        <div class="hand-dialog-content">
            <div class="hand-dialog-header">
                <h3 class="hand-dialog-title">挑战者手牌区</h3>
                <button class="hand-dialog-close" onclick="hideHandDialog('player2')">完成</button>
            </div>
            <div class="hand-dialog-body">
                <div class="cards-display" id="player2-hand"></div>
            </div>
        </div>
    </div>
    
    <script src="Card_drawing.js"></script>
</body>
</html>